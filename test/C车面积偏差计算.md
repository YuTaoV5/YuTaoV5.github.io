	面积算法是将摄像头类比为多路线性CCD的一种处理方法，也可以看作是多路电感。
首先可以参考下浙工大的C车视频
第九届浙工大
[https://v.youku.com/v_show/id_XNzU4MzQ4Mzg4.html?spm=a2hbt.13141534.0.13141534](https://v.youku.com/v_show/id_XNzU4MzQ4Mzg4.html?spm=a2hbt.13141534.0.13141534)
第十届浙工大
[https://v.youku.com/v_show/id_XMTI5MDc5ODAzNg==.html?spm=a2h0c.8166622.PhoneSokuUgc_4.dtitle](https://v.youku.com/v_show/id_XMTI5MDc5ODAzNg==.html?spm=a2h0c.8166622.PhoneSokuUgc_4.dtitle)
在使用电磁场前瞻的情况下，也是可以做到弯道切弯的路径。

面积偏差计算方法
使用连通域算法处理主赛道信息。以中心为界将图像分为左右两部分（类比左右电感）。
左边赛道的白点数和右边赛道的白点数进行差比和计算（每一行都需要单独计算）。
将每一行的计算结果带入到全图加权函数(钟老板的代码 TGraphOffset )中进行计算得到Error1。
最后在更根据车前赛道长度、两边沿线的曲率、线性度对Error1进行放大或缩小。主要目的是为了提高弯道时的偏差减小直到时的偏差。具体代码可以看[20年双车程序 C车 K60]。


使用图像算法的最终效果：
1、C车上使用图像算法会造成入弯太迟的现象。面积偏差计算的Error在入弯前都比较小，但是在入弯后会很大。
2、使用面积偏差计算的方法最大的好处就是图像的偏差非常连续，这个比较适合两轮转向的车即转向能力很强的吃，目前在C车上使用的效果不如计算中线。
3、在直到上面积算法的偏差会很小。
4、使用面积算法进出特殊元素时需要做的就是将多于的图像裁剪掉使得主赛道只有一条

展望：
目前面积算法前瞻性不好的主要原因我认为是由于摄像头畸变较为严重，近达远小。例如车前30cm的赛道可能已经占据了图像50%的面积，这是远处的赛道信息就被缩小了。如果要提高其前瞻性必须要提高远处偏差的权重。
这里可能有两种方法来提高远处的权重：
1、去测量远处赛道长度和图像中的像素高度，这这个基础上提高远处图像的权重，使得整体图像的每个距离的权重一致。例如需要的前瞻为1.2m，0~50cm占据了图像的60%信息，50~90占据了30%的信息，90~120占据了10%的信息，根据实际比例对图像各个部分的偏差进行放大和缩小。
2、修改TGraphOffset 权重分配函数来提高远处的权重，关于这部分本人还没有明确的思路。


